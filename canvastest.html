<html>

<head>
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">

<style type="text/css">
body {
    background-color : #88F;
}
#target {
    -webkit-transform : rotate(45deg);
/*
    position : relative;
*/
}
.gradient {
    width : 620px;
    height : 480px;
    background : -webkit-gradient(linear, left top, right bottom,
                 from(#F00), color-stop(0.2, #0F0), color-stop(0.4, #FF0), color-stop(0.6, #0FF), color-stop(0.8, #F0F), to(#00F));


}
.radius {
    border-top-left-radius : 10px;
}

.rotate45 {
    
    -webkit-transform : rotate(45deg);
}
/*
#target {
    background-image : url("img/fire.jpg");
}
*/
.hoge, #fuga {}
.ocean {
    width : 300px;
    height : 200px;

    border : 8px solid rgb(77,0,88);

}
.tmpimg {
    width : 100px;
    height : 100px;
/*
    background-image : url("img/ocean.jpg");
*/
/*
    background : -webkit-gradient(linear, left top, right bottom, from(rbga(255,0,0,0.5)), to(rbga(0,0,255,0.5)));
*/
    background-color : rbga(255, 0, 0, 0.5);
/*
    background : -webkit-gradient(linear, left top, right bottom, from(#F00), to(#00F));
*/
}
#inner {
    width : 200px;
    height : 200px;
    position: absolute;
    left : 250px;
    top : 100px;
    background-color : rgba(255, 0, 0, 0.5);
}
#inner2 {
    width : 100px;
    height : 100px;
    border : 1px solid black;
    background-color : #00F;
    position : absolute;
    left : 100px;
    top : 240px;
}

#container {
    position : relative;
    background-color : #00F;
}
#toggleButton {
    width : 100px;
    height : 40px;
    border : 1px ridge black;
}
.unfreezed {
    background-color : #F66;
}
.freezed {
    background-color : #66F;
}
</style>

<script type="text/javascript" src="CSSResolver.js"></script>
<script type="text/javascript" src="CSSRenderer.js"></script>
<script type="text/javascript" src="DomFreezer.js"></script>
<script type="text/javascript">

var freezer;

function freeze() {
    var target = document.getElementById('target');
    freezer = new DomFreezer(target);
    freezer.canvas.addEventListener('click', function(e) {
        alert('canvas clicked');
    }, false);
    freezer.preloadImages(function() {
        freezer.init();

        freezer.draw();

        freezer.place();
        freezer.freeze();

    });
}
function unfreeze() {

}
function toggleFreezed(freezed) {
    var toggleButton = document.getElementById('toggleButton');
    if (freezed) {
        freeze();
        toggleButton.className = 'freezed';
        toggleButton.innerHTML = 'freezed';
    } else {
        unfreeze();
        toggleButton.className = 'unfreezed';
        toggleButton.innerHTML = 'unfreezed';
    }
}

window.addEventListener('DOMContentLoaded', function() {
    document.getElementById('toggleButton').addEventListener('click', (function() {
        var freezed = false;
        return function() {
            freezed = ! freezed;
            toggleFreezed(freezed);  
        };
    })(), false);

    document.getElementById('container').addEventListener('click', function() { alert('container clicked'); }, false);
    document.getElementById('img').addEventListener('click', function() { alert('img clicked'); }, false);
    document.getElementById('inner').addEventListener('click', function() { alert('inner clicked'); }, false);
    document.getElementById('target').addEventListener('click', function() { alert('target clicked'); }, false);


});

</script>

</head>

<body>
<!--
<div id="container" style="width : 400px; height : 300px; border: 5px solid red">
    <img src="img/ocean.jpg" width="400", height="300", style="width : 400px; height : 300px; position:absolute; left : 200px" />
    <p style="position : relative; z-index: 65535;">hhogehogekokkohogehogekokkohogehogekokkohogehogekokkohogehogekokkohogehogekokkohogehogekokkoogehogekokko</p>
</div>
-->
<!--
-->
<div id="toggleButton" class="unfreezed">unfreezed</div>
<!--
<div id="radius" class="radius" style="background-color: red; width : 100px; height : 200px"></div>
-->
<div class="spacer" style="height : 200px;"></div>
<div id="container">
    <div id="target" class="gradient">
        <img id="img" class="ocean" src="img/ocean.jpg" />
        <div id="inner">
        <!--
            <div id="inner2"></div>
        -->
        </div>
    
        <div id="inner2">
        </div>
    </div>
</div>
</body>

</html>
